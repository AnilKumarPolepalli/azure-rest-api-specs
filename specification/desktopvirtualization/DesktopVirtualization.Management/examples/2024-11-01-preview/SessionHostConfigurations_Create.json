{
  "parameters": {
    "api-version": "2024-11-01-preview",
    "hostPoolName": "hostPool1",
    "resourceGroupName": "resourceGroup1",
    "sessionHostConfiguration": {
      "properties": {
        "availabilityZones": [
          1,
          3
        ],
        "bootDiagnosticsInfo": {
          "enabled": true,
          "storageUri": "https://myStorageAccountName.blob.core.windows.net"
        },
        "customConfigurationScriptUrl": "https://storageaccountname.blob.core.windows.net/blobcontainer/file",
        "diskInfo": {
          "type": "Standard_LRS"
        },
        "domainInfo": {
          "activeDirectoryInfo": {
            "domainCredentials": {
              "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
              "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
            },
            "domainName": "wvdarmtest1.net",
            "ouPath": "OU=testOU,DC=domain,DC=Domain,DC=com"
          },
          "azureActiveDirectoryInfo": {
            "mdmProviderGuid": "bdefabc0-95b4-48b3-b645-8a753a63c4fa"
          },
          "joinType": "ActiveDirectory"
        },
        "friendlyName": "InitialConfiguration",
        "imageInfo": {
          "type": "Marketplace",
          "customInfo": {
            "resourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.Compute/images/imageName"
          },
          "marketplaceInfo": {
            "exactVersion": "2019.0.20190115",
            "offer": "Windows-10",
            "publisher": "MicrosoftWindowsDesktop",
            "sku": "19h2-ent"
          }
        },
        "networkInfo": {
          "securityGroupId": "/subscriptions/.../resourceGroups/.../provider s/Microsoft.Network/networkSecurityGroups/nsg1",
          "subnetId": "/subscriptions/.../resourceGroups/.../providers/Microsoft.Network/virtualNetworks/.../subnets/subnet1"
        },
        "securityInfo": {
          "type": "TrustedLaunch",
          "secureBootEnabled": true,
          "vTpmEnabled": true
        },
        "vmAdminCredentials": {
          "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
          "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
        },
        "vmLocation": "eastus2",
        "vmNamePrefix": "westus2-vm",
        "vmResourceGroup": "myResourceGroup",
        "vmSizeId": "Standard_D2s_v3",
        "vmTags": {
          "Department": "myDepartment",
          "Team": "myTeam"
        }
      }
    },
    "subscriptionId": "daefabc0-95b4-48b3-b645-8a753a63c4fa"
  },
  "responses": {
    "200": {
      "body": {
        "name": "default",
        "type": "Microsoft.DesktopVirtualization/hostPools/sessionHostConfigurations",
        "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostConfigurations/default",
        "properties": {
          "availabilityZones": [
            1,
            3
          ],
          "bootDiagnosticsInfo": {
            "enabled": true,
            "storageUri": "https://myStorageAccountName.blob.core.windows.net"
          },
          "customConfigurationScriptUrl": "https://storageaccountname.blob.core.windows.net/blobcontainer/file",
          "diskInfo": {
            "type": "Standard_LRS"
          },
          "domainInfo": {
            "activeDirectoryInfo": {
              "domainCredentials": {
                "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
                "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
              },
              "domainName": "wvdarmtest1.net",
              "ouPath": "OU=testOU,DC=domain,DC=Domain,DC=com"
            },
            "azureActiveDirectoryInfo": {
              "mdmProviderGuid": "bdefabc0-95b4-48b3-b645-8a753a63c4fa"
            },
            "joinType": "ActiveDirectory"
          },
          "friendlyName": "InitialConfiguration",
          "imageInfo": {
            "type": "Marketplace",
            "customInfo": {
              "resourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.Compute/images/imageName"
            },
            "marketplaceInfo": {
              "exactVersion": "2019.0.20190115",
              "offer": "Windows-10",
              "publisher": "MicrosoftWindowsDesktop",
              "sku": "19h2-ent"
            }
          },
          "networkInfo": {
            "securityGroupId": "/subscriptions/.../resourceGroups/.../provider s/Microsoft.Network/networkSecurityGroups/nsg1",
            "subnetId": "/subscriptions/.../resourceGroups/.../providers/Microsoft.Network/virtualNetworks/.../subnets/subnet1"
          },
          "provisioningState": "Provisioning",
          "securityInfo": {
            "type": "TrustedLaunch",
            "secureBootEnabled": true,
            "vTpmEnabled": true
          },
          "version": "2022-10-21T17:18:19.1234567Z",
          "vmAdminCredentials": {
            "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
            "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
          },
          "vmLocation": "eastus2",
          "vmNamePrefix": "westus2-vm",
          "vmResourceGroup": "myResourceGroup",
          "vmSizeId": "Standard_D2s_v3",
          "vmTags": {
            "Department": "myDepartment",
            "Team": "myTeam"
          }
        },
        "systemData": {
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        }
      },
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostConfigurations/default/operationStatuses/ed5d502c-acaa-42ec-ad61-0d8488a9fd1d"
      }
    },
    "201": {
      "body": {
        "name": "default",
        "type": "Microsoft.DesktopVirtualization/hostPools/sessionHostConfigurations",
        "id": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostConfigurations/default",
        "properties": {
          "availabilityZones": [
            1,
            3
          ],
          "bootDiagnosticsInfo": {
            "enabled": true,
            "storageUri": "https://myStorageAccountName.blob.core.windows.net"
          },
          "customConfigurationScriptUrl": "https://storageaccountname.blob.core.windows.net/blobcontainer/file",
          "diskInfo": {
            "type": "Standard_LRS"
          },
          "domainInfo": {
            "activeDirectoryInfo": {
              "domainCredentials": {
                "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
                "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
              },
              "domainName": "wvdarmtest1.net",
              "ouPath": "OU=testOU,DC=domain,DC=Domain,DC=com"
            },
            "azureActiveDirectoryInfo": {
              "mdmProviderGuid": "bdefabc0-95b4-48b3-b645-8a753a63c4fa"
            },
            "joinType": "ActiveDirectory"
          },
          "friendlyName": "InitialConfiguration",
          "imageInfo": {
            "type": "Marketplace",
            "customInfo": {
              "resourceId": "/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.Compute/images/imageName"
            },
            "marketplaceInfo": {
              "exactVersion": "2019.0.20190115",
              "offer": "Windows-10",
              "publisher": "MicrosoftWindowsDesktop",
              "sku": "19h2-ent"
            }
          },
          "networkInfo": {
            "securityGroupId": "/subscriptions/.../resourceGroups/.../provider s/Microsoft.Network/networkSecurityGroups/nsg1",
            "subnetId": "/subscriptions/.../resourceGroups/.../providers/Microsoft.Network/virtualNetworks/.../subnets/subnet1"
          },
          "provisioningState": "Provisioning",
          "securityInfo": {
            "type": "TrustedLaunch",
            "secureBootEnabled": true,
            "vTpmEnabled": true
          },
          "version": "2022-10-21T17:18:19.1234567Z",
          "vmAdminCredentials": {
            "passwordKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/mysecretname",
            "usernameKeyVaultSecretUri": "https://myvault.vault.azure.net/secrets/myusername"
          },
          "vmLocation": "eastus2",
          "vmNamePrefix": "westus2-vm",
          "vmResourceGroup": "myResourceGroup",
          "vmSizeId": "Standard_D2s_v3",
          "vmTags": {
            "Department": "myDepartment",
            "Team": "myTeam"
          }
        },
        "systemData": {
          "createdAt": "2020-01-01T17:18:19.1234567Z",
          "createdBy": "user1",
          "createdByType": "User",
          "lastModifiedAt": "2020-01-02T17:18:19.1234567Z",
          "lastModifiedBy": "user2",
          "lastModifiedByType": "User"
        }
      },
      "headers": {
        "Azure-AsyncOperation": "https://management.azure.com/subscriptions/daefabc0-95b4-48b3-b645-8a753a63c4fa/resourceGroups/resourceGroup1/providers/Microsoft.DesktopVirtualization/hostPools/hostPool1/sessionHostConfigurations/default/operationStatuses/ed5d502c-acaa-42ec-ad61-0d8488a9fd1d"
      }
    }
  },
  "operationId": "SessionHostConfigurations_CreateOrUpdate",
  "title": "SessionHostConfigurations_Create"
}